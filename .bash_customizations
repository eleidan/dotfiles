### Aliases
alias ll='ls -ahlF --group-directories-first'
alias ccat='pygmentize -g'



### Bash history autocompletion bindings
bind '"\e[A": history-search-backward'
bind '"\e[B": history-search-forward'


### Git related customizations
#GIT_PS1_SHOWDIRTYSTATE=1
#GIT_PS1_SHOWSTASHSTATE=1
#GIT_PS1_SHOWUNTRACKEDFILES=1
# Explicitly unset color (default anyhow). Use 1 to set it.
#GIT_PS1_SHOWCOLORHINTS=
#GIT_PS1_DESCRIBE_STYLE="branch"
#GIT_PS1_SHOWUPSTREAM="auto git"

export GIT_PS1_DESCRIBE_STYLE=1
export GIT_PS1_SHOWCOLORHINTS=1
export GIT_PS1_SHOWDIRTYSTATE=1
export GIT_PS1_SHOWUNTRACKEDFILES=1


## Docker
CONTAINER_NON_ROOT_USER="phantom"
function bot {
  case $1 in
    "run" )
      shift
      docker-compose run --rm $@;;
    "init-app" )
      shift
      docker-init $@;;
    * )
      docker-compose $@;;
  esac
}

function  docker-init {
  case $1 in
    "elixir" )
      shift
      init-elixir $@;;
    * )
      echo "Error: Project type is not recognized!";;
  esac
}

function  init-elixir {
  if [ -z "$1" ]; then
    docker run -it --rm -v $(pwd):/home/$CONTAINER_NON_ROOT_USER/app eleidan/elixir:1.4.0-jessie docker-init.sh
  else
    docker run -it --rm -v $(pwd):/home/$CONTAINER_NON_ROOT_USER/app eleidan/elixir:$1 docker-init.sh
  fi
}



### Custom prompt
PS1='\[\e[0;35m\][\w]\[\e[m\]$(__git_ps1)\n\[\e[1;31m\]>\[\e[m\] '
